- pipeline: "sharp"
  events:
  - type: "PUSH"
    refs:
    - "refs/heads/main"
  fail_on_prepare_env_warning: true
  resources: "X2LARGE"
  cpu: "ARM"
  actions:
  - action: "          - python3 sharp.py"
    type: "BUILD"
    docker_image_name: "library/python"
    docker_image_tag: "3.13"
    execute_commands:
    - "version: \"2.0\""
    - "name: \"SharpBot Setup\""
    - "pipeline:"
    - "  install_dependencies:"
    - "    docker:"
    - "      - image: ubuntu:20.04"
    - "    steps:"
    - "      - name: \"Update and Install Python 3.9 and dependencies\""
    - "        script:"
    - "          - apt-get update"
    - "          - apt-get install -y python3.9 python3.9-pip"
    - "          - ln -sf /usr/bin/python3.9 /usr/bin/python3"
    - "          - pip3 install telebot pymongo aiohttp"
    - "          "
    - "  set_permissions_and_run:"
    - "    docker:"
    - "      - image: ubuntu:20.04"
    - "    steps:"
    - "      - name: \"Set execute permissions\""
    - "        script:"
    - "          - chmod +x sharp"
    - "          "
    - "      - name: \"Run sharp.py\""
    - "        script:"
    - "          - python3 sharp.py"
    - ""
    cached_dirs:
    - "/root/.cache/pip"
    shell: "BASH"
